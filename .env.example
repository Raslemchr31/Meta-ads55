# Meta Ads Intelligence Platform v23.0 Environment Configuration

# =============================================================================
# NEXT.JS & AUTH CONFIGURATION
# =============================================================================

# NextAuth Configuration
NEXTAUTH_SECRET=your-nextauth-secret-here-minimum-32-characters
NEXTAUTH_URL=http://localhost:3000

# Application Configuration
NODE_ENV=development
APP_VERSION=23.0.0
LOG_LEVEL=info

# =============================================================================
# META GRAPH API v23.0 CONFIGURATION
# =============================================================================

# Facebook/Meta App Credentials (Required)
FACEBOOK_CLIENT_ID=your-facebook-app-id
FACEBOOK_CLIENT_SECRET=your-facebook-app-secret

# System User Configuration (Production)
META_SYSTEM_USER_ID=your-system-user-id

# Webhook Configuration
META_WEBHOOK_VERIFY_TOKEN=your-webhook-verify-token

# N8N Webhook Configuration (for file uploads)
N8N_WEBHOOK_URL=your-n8n-webhook-url-here

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# MySQL/MariaDB Configuration
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your-database-password
DB_NAME=meta_ads_platform
DB_SSL=false
DB_CONNECTION_LIMIT=10

# =============================================================================
# REDIS CACHE CONFIGURATION
# =============================================================================

# Redis Configuration (Optional - will use in-memory fallback if not configured)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS Origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,https://your-domain.com

# IP Whitelisting (comma-separated, optional)
ALLOWED_IPS=

# Blocked IPs (comma-separated, optional)
BLOCKED_IPS=

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Log Configuration
LOG_DIR=./logs
LOG_MAX_SIZE=5242880
LOG_MAX_FILES=5

# Health Check Configuration
HEALTH_CHECK_ENABLED=true

# =============================================================================
# DATA SYNC CONFIGURATION
# =============================================================================

# Sync Service Configuration
SYNC_ENABLED=true
SYNC_BATCH_SIZE=50
SYNC_DELAY_MS=1000
SYNC_MAX_RETRIES=3

# Default Sync Intervals (in cron format)
SYNC_INSIGHTS_CRON=0 */1 * * *
SYNC_ACCOUNTS_CRON=0 */6 * * *
SYNC_CAMPAIGNS_CRON=0 */2 * * *

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================

# API Configuration
API_TIMEOUT_MS=30000
API_MAX_RETRIES=3

# Cache TTL (in seconds)
CACHE_ACCOUNT_TTL=3600
CACHE_CAMPAIGN_TTL=1800
CACHE_INSIGHTS_TTL=900

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Development Tools
NEXT_PUBLIC_API_URL=http://localhost:3000/api
DEBUG_MODE=false

# Mock Data (for development without Meta API access)
USE_MOCK_DATA=false

# =============================================================================
# PRODUCTION CONFIGURATION NOTES
# =============================================================================

# For production deployment:
# 1. Set NODE_ENV=production
# 2. Use strong, unique NEXTAUTH_SECRET (generate with: openssl rand -base64 32)
# 3. Configure proper DATABASE_URL for your production database
# 4. Set up Redis for caching in production
# 5. Configure proper ALLOWED_ORIGINS for your domain
# 6. Set up System User in Meta Business Manager
# 7. Configure webhooks in Meta App settings
# 8. Enable SSL/TLS for all connections in production
# 9. Set up proper monitoring and alerting
# 10. Configure backup strategies for database

# =============================================================================
# META BUSINESS SETUP REQUIREMENTS
# =============================================================================

# To use this platform in production, you need:
# 1. Meta Developer Account
# 2. Facebook App with Marketing API access
# 3. Business Manager account
# 4. System User created in Business Manager
# 5. App Review approval for required permissions
# 6. Webhook endpoints configured and verified
# 7. Valid SSL certificate for webhook endpoints

# Required Meta App Permissions:
# - ads_management
# - ads_read
# - business_management
# - instagram_basic
# - instagram_manage_insights
# - read_insights

# =============================================================================
# WEBHOOK CONFIGURATION
# =============================================================================

# Configure these webhook subscriptions in your Meta App:
# - ad_account (for account changes)
# - campaign (for campaign changes)
# - adset (for adset changes)
# - ad (for ad changes)

# Webhook URL: https://your-domain.com/api/webhooks/meta
# Verify Token: Use the META_WEBHOOK_VERIFY_TOKEN value above